# [AUTO-FIX] {{testName}}

## Summary

This PR contains an automated fix generated by the DAWG AI Testing Agent for a failing test. The fix has been analyzed, generated, and validated using GPT-4o.

**Test:** `{{testName}}`
**File:** `{{testFile}}`
**Fix Confidence:** {{confidence}}%
**Validation Status:** {{validationStatus}}

---

## Test Failure Analysis

### Error Details

```
{{errorMessage}}
```

### Root Cause

**Category:** {{failureCategory}}
**Severity:** {{failureSeverity}}

{{rootCauseAnalysis}}

### Stack Trace

<details>
<summary>View full stack trace</summary>

```
{{stackTrace}}
```

</details>

---

## Fix Strategy

### Recommended Approach

{{fixDescription}}

**Reasoning:** {{fixReasoning}}

**Complexity:** {{fixComplexity}}
**Breaking Change:** {{breakingChange}}
**Estimated Impact:** {{estimatedImpact}}

### Files Changed

{{filesChangedList}}

### Alternative Approaches Considered

{{alternativeFixes}}

---

## Similar Past Fixes

{{#if hasSimilarFixes}}
The AI Agent found similar issues that were fixed previously:

{{similarFixesList}}

{{else}}
No similar past fixes found in the agent's memory.
{{/if}}

---

## Verification Results

### Test Execution

| Metric | Value |
|--------|-------|
| Original Test Status | {{originalTestStatus}} |
| Tests Passed | {{testsPassed}} / {{testsTotal}} |
| Pass Rate | {{passRate}}% |
| Confidence Score | {{confidence}}% |
| Execution Time | {{executionTime}}s |

### Before Fix

```
Status: FAILED ‚ùå
Error: {{errorMessage}}
Duration: {{beforeDuration}}ms
```

### After Fix

```
Status: {{afterStatus}} {{afterStatusIcon}}
Duration: {{afterDuration}}ms
Performance Impact: {{performanceImpact}}
```

### Additional Tests Run

{{#if ranAffectedTests}}
- **Affected Tests:** {{affectedTestsPassed}} / {{affectedTestsTotal}} passed
{{/if}}

{{#if ranFullSuite}}
- **Full Test Suite:** {{fullSuitePassed}} / {{fullSuiteTotal}} passed
{{/if}}

### Coverage Impact

{{#if hasCoverageData}}
- **Coverage Change:** {{coverageChange}}%
- **Lines Added:** {{linesAdded}}
- **Lines Modified:** {{linesModified}}
{{else}}
Coverage analysis not run for this fix.
{{/if}}

---

## Code Changes

### Main Changes

{{#each codeChanges}}
#### {{file}}

**Change Type:** {{changeType}}
**Lines:** {{lineStart}}-{{lineEnd}}

{{explanation}}

<details>
<summary>View changes</summary>

```diff
{{diffContent}}
```

</details>

{{/each}}

---

## Recommendations

The AI Agent provides the following recommendations:

{{recommendationsList}}

---

## Review Checklist

Before merging this auto-generated fix, please verify:

- [ ] The fix addresses the root cause identified
- [ ] All tests pass (especially the originally failing test)
- [ ] No new test failures introduced
- [ ] Code quality meets project standards
- [ ] No unintended side effects in related functionality
- [ ] Documentation updated if needed
- [ ] Breaking changes are acceptable (if any)

---

## AI Agent Details

**Model:** GPT-4o
**Analysis Timestamp:** {{analysisTimestamp}}
**Agent Version:** {{agentVersion}}
**Fix Generation Time:** {{fixGenerationTime}}s
**Validation Time:** {{validationTime}}s

### Agent Capabilities Used

- ‚úÖ Codebase analysis
- ‚úÖ Error pattern recognition
- ‚úÖ Similar fix retrieval from agent brain
- ‚úÖ Multi-option fix generation
- ‚úÖ Automated test validation
- ‚úÖ Confidence scoring

---

## Additional Context

{{#if hasAdditionalContext}}
{{additionalContext}}
{{else}}
No additional context provided.
{{/if}}

---

## Next Steps

{{#if validationPassed}}
‚úÖ **This fix has passed all validation checks** and is ready for review.

Suggested actions:
1. Review the code changes
2. Verify the fix makes sense in the broader context
3. Approve and merge if satisfied
4. Monitor in production after deployment

{{else}}
‚ö†Ô∏è **This fix did not pass all validation checks**

Issues found:
{{validationIssues}}

Suggested actions:
1. Review the validation failures
2. Determine if the fix needs adjustment
3. Consider running the fix generator again
4. Manual intervention may be required

{{/if}}

---

## Support

If you have questions about this auto-fix:

1. Review the AI Agent logs at: `tests/reports/fix-analysis-{{timestamp}}.md`
2. Check the agent brain for similar fixes: `tests/ai-testing-agent/brain/past-fixes.json`
3. Re-run the fix generator with: `npm run test:ai-agent -- --fix={{testName}}`

---

<sub>ü§ñ Generated with DAWG AI Testing Agent | [View Documentation](../README.md)</sub>

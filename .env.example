# ==================================
# DAWG AI - Environment Configuration
# ==================================
# Copy this file to .env and fill in your values

# ----------------------------------
# Application Settings
# ----------------------------------
NODE_ENV=development
PORT=3001
VITE_API_URL=/api/v1

# Demo Mode (set to false for production)
VITE_DEMO_MODE=false

# ----------------------------------
# AI Provider API Keys
# ----------------------------------
# OpenAI API Key (for chat, generation, and embeddings)
OPENAI_API_KEY=sk-...

# Anthropic API Key (for Claude AI chat and generation)
ANTHROPIC_API_KEY=sk-ant-...

# Google AI API Key (for Gemini chat and generation)
GOOGLE_AI_API_KEY=...

# ----------------------------------
# Database Configuration
# ----------------------------------
# PostgreSQL connection string
DATABASE_URL=postgresql://username:password@localhost:5432/dawg_ai

# Connection pool settings
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECTION_TIMEOUT=20000

# ----------------------------------
# Redis Configuration (Job Queue & WebSocket Clustering)
# ----------------------------------
# Redis connection URL
REDIS_URL=redis://localhost:6379

# OR use individual settings:
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis for BullMQ job queue
REDIS_QUEUE_DB=1

# ----------------------------------
# AWS S3 Storage (Generated Audio Files)
# ----------------------------------
# S3 bucket name for audio storage
AWS_S3_BUCKET=dawg-ai-audio-production

# AWS credentials
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=us-east-1

# S3 configuration
USE_S3=true
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET_NAME=dawg-ai-audio-production

# CloudFront CDN (optional, for faster delivery)
AWS_CLOUDFRONT_URL=https://...cloudfront.net

# ----------------------------------
# WebSocket Configuration
# ----------------------------------
WEBSOCKET_PORT=3003
CORS_ORIGIN=http://localhost:5173

# WebSocket scaling (set to true for multi-instance deployment)
WEBSOCKET_REDIS_ADAPTER=false

# ----------------------------------
# Authentication & Security
# ----------------------------------
# JWT secret for token signing
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session configuration
SESSION_SECRET=your-session-secret-change-this-in-production
SESSION_MAX_AGE=604800000

# API rate limiting (requests per minute per user)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# ----------------------------------
# Job Queue Configuration (BullMQ)
# ----------------------------------
# Maximum concurrent generation jobs
GENERATION_QUEUE_CONCURRENCY=5

# Job timeout (30 seconds)
GENERATION_JOB_TIMEOUT=30000

# Job retry attempts
GENERATION_JOB_ATTEMPTS=3

# ----------------------------------
# Audio Generation Settings
# ----------------------------------
# Default audio quality
DEFAULT_AUDIO_QUALITY=high
DEFAULT_AUDIO_FORMAT=mp3

# Audio processing limits
MAX_AUDIO_DURATION=300
MAX_FILE_SIZE_MB=50

# ----------------------------------
# Monitoring & Logging
# ----------------------------------
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Sentry error tracking (optional)
SENTRY_DSN=

# Application metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ----------------------------------
# Email Configuration (Notifications)
# ----------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=DAWG AI <noreply@dawg-ai.com>

# ----------------------------------
# Stripe Payment Configuration
# ----------------------------------
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ----------------------------------
# Feature Flags
# ----------------------------------
# Enable chat-to-create feature
FEATURE_CHAT_TO_CREATE=true

# Enable collaborative editing
FEATURE_COLLABORATION=true

# Enable AI-powered mixing/mastering
FEATURE_AI_MIXING=true

# ----------------------------------
# Development Settings
# ----------------------------------
# Enable debug mode
DEBUG=false

# Enable API request logging
LOG_API_REQUESTS=true

# Enable SQL query logging
LOG_SQL_QUERIES=false

# ----------------------------------
# Production Deployment
# ----------------------------------
# Domain configuration
DOMAIN=dawg-ai.com
API_URL=https://api.dawg-ai.com

# SSL/TLS configuration
SSL_ENABLED=true

# CDN configuration
CDN_URL=https://cdn.dawg-ai.com

# Health check endpoint
HEALTH_CHECK_PATH=/health
